---
phase: 10-design-performance
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/styles/tokens.css
  - src/App.css
autonomous: true

must_haves:
  truths:
    - "Typography scales fluidly between mobile and desktop viewports"
    - "All interactive elements have visible focus indicators on keyboard navigation"
    - "Headings use semibold (600) weight consistently"
    - "Focus indicators meet WCAG 2.4.7 (3:1 contrast ratio)"
  artifacts:
    - path: "src/styles/tokens.css"
      provides: "Fluid typography scale with clamp()"
      contains: "clamp"
    - path: "src/App.css"
      provides: "Enhanced focus states"
      contains: ":focus-visible"
  key_links:
    - from: "src/App.css"
      to: "src/styles/tokens.css"
      via: "CSS custom properties"
      pattern: "var\\(--font-size"
---

<objective>
Implement fluid typography scale and comprehensive focus indicators for design consistency and accessibility.

Purpose: Typography should scale smoothly across viewports (DSGN-02) and all interactive elements need visible focus states for keyboard users (DSGN-04, PERF-02).

Output: Updated tokens.css with clamp()-based typography scale, enhanced focus indicators in App.css.
</objective>

<execution_context>
@/Users/romatroskin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/romatroskin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-design-performance/10-RESEARCH.md

@src/styles/tokens.css
@src/styles/themes.css
@src/App.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement fluid typography scale with clamp()</name>
  <files>src/styles/tokens.css</files>
  <action>
Update the typography scale in tokens.css to use CSS clamp() for fluid sizing:

1. Replace static font-size tokens with clamp()-based fluid scale:
   - --font-size-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem)   /* 12-14px */
   - --font-size-sm: clamp(0.875rem, 0.8rem + 0.4vw, 1rem)       /* 14-16px */
   - --font-size-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem)     /* 16-18px */
   - --font-size-md: clamp(1.125rem, 1rem + 0.6vw, 1.25rem)      /* 18-20px */
   - --font-size-lg: clamp(1.25rem, 1rem + 1vw, 1.5rem)          /* 20-24px */
   - --font-size-xl: clamp(1.5rem, 1.2rem + 1.5vw, 2rem)         /* 24-32px */
   - --font-size-2xl: clamp(1.875rem, 1.5rem + 2vw, 2.5rem)      /* 30-40px */
   - --font-size-3xl: clamp(2.25rem, 1.75rem + 2.5vw, 3rem)      /* 36-48px */
   - --font-size-4xl: clamp(2.5rem, 2rem + 3vw, 3.5rem)          /* 40-56px */

2. Add line-height tokens if not present:
   - --line-height-tight: 1.2      /* Headings */
   - --line-height-snug: 1.375     /* Short paragraphs */
   - --line-height-normal: 1.5     /* Body text */
   - --line-height-relaxed: 1.625  /* Spacious reading */

3. Add font-weight tokens:
   - --font-weight-normal: 400
   - --font-weight-medium: 500
   - --font-weight-semibold: 600   /* User preference for headings */
   - --font-weight-bold: 700

Keep rem units in the clamp() min/max values for accessibility (respects user font-size preferences).
  </action>
  <verify>Run `npm run build` - build succeeds with no CSS errors</verify>
  <done>tokens.css contains clamp() for all font-size tokens, includes line-height and font-weight tokens</done>
</task>

<task type="auto">
  <name>Task 2: Enhance focus indicators across all interactive elements</name>
  <files>src/App.css</files>
  <action>
Update App.css to ensure comprehensive :focus-visible styling:

1. Add input and textarea to the existing :focus-visible rule:
   ```css
   button:focus-visible,
   a:focus-visible,
   input:focus-visible,
   textarea:focus-visible,
   select:focus-visible {
     outline: 2px solid var(--color-focus);
     outline-offset: 2px;
     border-radius: var(--radius-sm);
   }
   ```

2. Add hover states for buttons and links using @media (hover: hover) to only apply on pointer devices:
   ```css
   @media (hover: hover) and (pointer: fine) {
     .cta-primary:hover,
     .scroll-indicator:hover {
       /* existing hover styles already present - verify they work */
     }
   }
   ```

3. Ensure the contact form inputs have proper focus and error states (already present, verify):
   - Check .form-input:focus and .form-textarea:focus have outline
   - Verify aria-invalid styling uses contrasting color

4. Add active state for buttons:
   ```css
   button:active,
   .cta-primary:active {
     transform: translateY(0);
     box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
   }
   ```

5. Verify nav focus indicators work against header background (already has white outline, confirm)

Do NOT change existing hover transforms or animations that already work.
  </action>
  <verify>
1. Run `npm run dev` and tab through page - all interactive elements should show focus ring
2. Run `npm test` - existing tests pass
  </verify>
  <done>All buttons, links, inputs, and textarea elements have visible :focus-visible states with 3:1+ contrast</done>
</task>

<task type="auto">
  <name>Task 3: Apply typography tokens to section headings</name>
  <files>src/App.css</files>
  <action>
Update section heading styles in App.css to use the new typography tokens consistently:

1. Update .hero-title to use typography tokens:
   - font-size: var(--font-size-4xl) - or keep existing clamp() if it's within the new scale range
   - font-weight: var(--font-weight-normal) - currently 300, keep lightweight hero style
   - line-height: var(--line-height-tight)

2. Update .section-title to use tokens:
   - font-size: var(--font-size-2xl) - or keep existing clamp()
   - font-weight: var(--font-weight-semibold)
   - line-height: var(--line-height-tight)

3. Update .intro-text and .about-text:
   - font-size: var(--font-size-lg) or var(--font-size-md) - keep existing clamp() ranges
   - line-height: var(--line-height-relaxed)

4. Ensure h3 in success message uses tokens:
   - font-weight: var(--font-weight-semibold)

Note: The existing clamp() values in App.css (e.g., clamp(1.8rem, 5vw, 3.5rem)) are already good fluid typography. Only update if they benefit from the standardized scale. The goal is consistency, not forced uniformity.
  </action>
  <verify>
1. Run `npm run dev` and visually verify typography looks consistent across sections
2. Check responsive behavior at 320px, 768px, and 1440px viewport widths
3. Run `npm test` - all tests pass
  </verify>
  <done>Section headings and body text use typography tokens consistently, responsive sizing works across viewports</done>
</task>

</tasks>

<verification>
1. Build passes: `npm run build` succeeds
2. Tests pass: `npm test` shows no regressions
3. Typography scales: Resize browser window - text scales smoothly without jumps
4. Focus visible: Tab through page with keyboard - all interactive elements show focus ring
5. Theme works: Toggle dark/light theme - focus colors adapt correctly
</verification>

<success_criteria>
- tokens.css contains clamp()-based fluid typography scale
- All interactive elements (buttons, links, inputs, textareas) have :focus-visible styling
- Section headings use semibold (600) weight (except hero which uses 300 by design)
- No visual regressions in existing styling
- Build and tests pass
</success_criteria>

<output>
After completion, create `.planning/phases/10-design-performance/10-01-SUMMARY.md`
</output>
