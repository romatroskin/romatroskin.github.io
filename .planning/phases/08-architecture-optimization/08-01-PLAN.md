---
phase: 08-architecture-optimization
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - tsconfig.app.json
  - vite.config.ts
  - package.json
autonomous: true

must_haves:
  truths:
    - "TypeScript recognizes @/ path aliases in IDE auto-imports"
    - "Vite resolves @/ imports during development and build"
    - "Vitest resolves @/ imports when running tests"
    - "Build completes successfully with path alias configuration"
  artifacts:
    - path: "tsconfig.app.json"
      provides: "Path alias configuration with baseUrl and paths"
      contains: "@/*"
    - path: "vite.config.ts"
      provides: "vite-tsconfig-paths plugin integration"
      contains: "tsconfigPaths"
    - path: "package.json"
      provides: "vite-tsconfig-paths as devDependency"
      contains: "vite-tsconfig-paths"
  key_links:
    - from: "vite.config.ts"
      to: "tsconfig.app.json"
      via: "vite-tsconfig-paths plugin reads tsconfig paths automatically"
      pattern: "tsconfigPaths\\(\\)"
---

<objective>
Configure TypeScript path aliases with @/ prefix and integrate vite-tsconfig-paths plugin for automatic Vite/Vitest resolution.

Purpose: Enable clean imports using @/components, @/hooks, @/utils instead of relative paths.
Output: Path alias tooling configured and working across TypeScript, Vite, and Vitest.
</objective>

<execution_context>
@/Users/romatroskin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/romatroskin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-architecture-optimization/08-CONTEXT.md
@.planning/phases/08-architecture-optimization/08-RESEARCH.md
@tsconfig.app.json
@vite.config.ts
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install vite-tsconfig-paths</name>
  <files>package.json</files>
  <action>
Install vite-tsconfig-paths as a dev dependency:

```bash
npm install -D vite-tsconfig-paths
```

This plugin automatically syncs TypeScript path aliases to Vite and Vitest, eliminating configuration duplication.
  </action>
  <verify>
    - Run `npm ls vite-tsconfig-paths` shows package installed
    - package.json devDependencies includes "vite-tsconfig-paths"
  </verify>
  <done>
    - vite-tsconfig-paths is installed as devDependency
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure TypeScript path aliases</name>
  <files>tsconfig.app.json</files>
  <action>
Update tsconfig.app.json to add baseUrl and paths configuration:

Add to compilerOptions:
```json
"baseUrl": ".",
"paths": {
  "@/*": ["./src/*"]
}
```

The @/* pattern maps to src/*, allowing imports like:
- @/components/Header/Header -> src/components/Header/Header
- @/hooks/useTheme -> src/hooks/useTheme
- @/utils/storage -> src/utils/storage

Note: Using a single @/* alias is simpler and sufficient for this project size. More specific aliases (@/components/*, @/hooks/*) are not needed - the single @/* pattern covers all cases.
  </action>
  <verify>
    - tsconfig.app.json contains "baseUrl": "."
    - tsconfig.app.json contains "@/*" in paths
    - Run `npx tsc --noEmit` to verify TypeScript config is valid
  </verify>
  <done>
    - baseUrl set to "."
    - paths configured with @/* mapping to ./src/*
    - TypeScript config validates without errors
  </done>
</task>

<task type="auto">
  <name>Task 3: Add vite-tsconfig-paths to Vite config</name>
  <files>vite.config.ts</files>
  <action>
Update vite.config.ts to import and use tsconfigPaths plugin:

1. Add import at top:
```typescript
import tsconfigPaths from 'vite-tsconfig-paths'
```

2. Add tsconfigPaths() to plugins array (place it early, after react()):
```typescript
plugins: [
  react(),
  tsconfigPaths(),
  // ... other plugins
]
```

The plugin reads tsconfig.json/tsconfig.app.json paths automatically. Since this project has vitest config merged into vite.config.ts, the plugin will work for both Vite dev server and Vitest test runs.
  </action>
  <verify>
    - vite.config.ts imports tsconfigPaths
    - plugins array includes tsconfigPaths()
    - Run `npm run dev` starts without errors
    - Run `npm test -- --run` passes (existing tests still work)
    - Run `npm run build` completes successfully
  </verify>
  <done>
    - vite-tsconfig-paths plugin is configured in vite.config.ts
    - Development server starts successfully
    - Test suite passes
    - Production build succeeds
  </done>
</task>

<task type="auto">
  <name>Task 4: Verify path alias resolution</name>
  <files>src/App.tsx</files>
  <action>
Test path alias resolution by temporarily converting one import in App.tsx to use @/ prefix:

Change one import (e.g., Header) from:
```typescript
import Header from "./components/Header/Header";
```
to:
```typescript
import Header from "@/components/Header/Header";
```

Verify this works, then revert the change. The full import conversion will happen in Plan 08-03.

This task validates that the tooling works end-to-end before we restructure folders and update all imports.
  </action>
  <verify>
    - After adding @/ import: `npm run dev` works
    - After adding @/ import: `npm run build` works
    - After adding @/ import: TypeScript shows no errors in IDE
    - Revert the import back to relative path
    - Final state: App.tsx unchanged from original
  </verify>
  <done>
    - Path alias resolution verified working
    - App.tsx reverted to original state
    - Tooling ready for full migration in subsequent plans
  </done>
</task>

</tasks>

<verification>
1. `npm ls vite-tsconfig-paths` shows package installed
2. `grep -q "baseUrl" tsconfig.app.json && echo "baseUrl configured"` confirms tsconfig setup
3. `grep -q "tsconfigPaths" vite.config.ts && echo "Plugin configured"` confirms Vite integration
4. `npm run build` completes without errors
5. `npm test -- --run` passes all existing tests
</verification>

<success_criteria>
- ARCH-02: TypeScript path aliases configured (@/components, etc.) - PARTIAL (config done, imports updated in 08-03)
</success_criteria>

<output>
After completion, create `.planning/phases/08-architecture-optimization/08-01-SUMMARY.md`
</output>
