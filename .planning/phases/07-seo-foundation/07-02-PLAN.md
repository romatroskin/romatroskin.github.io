---
phase: 07-seo-foundation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - public/favicon.ico
  - public/icon.svg
  - public/apple-touch-icon.png
  - public/icon-192.png
  - public/icon-512.png
  - public/manifest.webmanifest
  - index.html
autonomous: false

must_haves:
  truths:
    - "Browser tab shows favicon on desktop (32x32)"
    - "iOS home screen shows proper icon when added (180x180)"
    - "PWA install shows correct icons from manifest"
    - "Favicon adapts to light/dark system theme"
  artifacts:
    - path: "public/favicon.ico"
      provides: "Legacy favicon for older browsers"
    - path: "public/icon.svg"
      provides: "Scalable SVG favicon with theme adaptation"
    - path: "public/apple-touch-icon.png"
      provides: "180x180 PNG for iOS home screen"
    - path: "public/manifest.webmanifest"
      provides: "PWA manifest with icon declarations"
  key_links:
    - from: "index.html"
      to: "public/manifest.webmanifest"
      via: "link rel=manifest"
      pattern: 'rel="manifest".*manifest\\.webmanifest'
---

<objective>
Create complete favicon set and web manifest for cross-platform icon support.

Purpose: Browser displays favicon across all devices (desktop, mobile, iOS home screen) with theme adaptation.
Output: Favicon files (ICO, SVG, PNG) and web manifest for PWA capability.
</objective>

<execution_context>
@/Users/romatroskin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/romatroskin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-seo-foundation/07-CONTEXT.md
@.planning/phases/07-seo-foundation/07-RESEARCH.md
@public/dp_white.svg
@index.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create theme-adaptive SVG favicon</name>
  <files>public/icon.svg</files>
  <action>
Create a theme-adaptive SVG favicon based on the dp_white.svg logo (the "dp" letters).

The SVG should:
1. Use the same path data from dp_white.svg (the "d" and "p" letters)
2. Set viewBox to center the logo with appropriate padding for small sizes
3. Include CSS media query for prefers-color-scheme:
   - Light mode: dark fill (#000000 or similar dark color)
   - Dark mode: white fill (#ffffff)

Example structure:
```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 48">
  <style>
    .icon { fill: #000; }
    @media (prefers-color-scheme: dark) {
      .icon { fill: #fff; }
    }
  </style>
  <!-- dp logo paths -->
</svg>
```

Adjust viewBox to properly frame the logo content (original viewBox is "1.41 27.35 18.85 43.89").
  </action>
  <verify>
    - File exists: `ls public/icon.svg`
    - Contains prefers-color-scheme: `grep "prefers-color-scheme" public/icon.svg`
    - Valid SVG: `npm run build` succeeds
  </verify>
  <done>
    - icon.svg exists in public/
    - SVG contains theme-adaptive CSS with prefers-color-scheme
    - Logo paths match dp_white.svg design
  </done>
</task>

<task type="auto">
  <name>Task 2: Create web manifest</name>
  <files>public/manifest.webmanifest</files>
  <action>
Create manifest.webmanifest with proper structure:

```json
{
  "name": "Puff Puff Dev",
  "short_name": "PPD",
  "description": "Turning your ideas into polished software that users love.",
  "start_url": "/",
  "display": "standalone",
  "theme_color": "#000000",
  "background_color": "#ffffff",
  "icons": [
    {
      "src": "/icon-192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": "/icon-512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ]
}
```
  </action>
  <verify>
    - `cat public/manifest.webmanifest` shows valid JSON
    - JSON validates: `node -e "JSON.parse(require('fs').readFileSync('public/manifest.webmanifest'))"`
  </verify>
  <done>
    - manifest.webmanifest exists with correct structure
    - JSON is valid and includes icon references
  </done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 3: Create PNG favicon files</name>
  <what-needs-doing>
PNG favicon files must be created manually since Claude cannot generate binary image files.

Required files (all in public/):
1. **favicon.ico** (32x32) - Legacy favicon for older browsers
2. **apple-touch-icon.png** (180x180) - iOS home screen icon, dark background with white logo
3. **icon-192.png** (192x192) - PWA manifest icon
4. **icon-512.png** (512x512) - PWA manifest icon, high resolution

Source: Use public/dp_white.svg as the base logo.
  </what-needs-doing>
  <how-to-create>
**Option A: Use favicon generator service (recommended)**
1. Go to https://favicon.io/favicon-converter/ or https://realfavicongenerator.net/
2. Upload public/dp_white.svg
3. Download the generated package
4. Extract and place files in public/:
   - favicon.ico
   - apple-touch-icon.png (rename if needed)
   - icon-192.png (android-chrome-192x192.png)
   - icon-512.png (android-chrome-512x512.png)

**Option B: Use ImageMagick CLI**
```bash
cd public
# Ensure dark background for visibility (logo is white)
convert -background black -gravity center -resize 32x32 -extent 32x32 dp_white.svg favicon.ico
convert -background black -gravity center -resize 180x180 -extent 180x180 dp_white.svg apple-touch-icon.png
convert -background black -gravity center -resize 192x192 -extent 192x192 dp_white.svg icon-192.png
convert -background black -gravity center -resize 512x512 -extent 512x512 dp_white.svg icon-512.png
```

**Option C: Use rsvg-convert (if installed)**
```bash
cd public
rsvg-convert -w 32 -h 32 dp_white.svg -o favicon.png && convert favicon.png favicon.ico
rsvg-convert -w 180 -h 180 dp_white.svg -o apple-touch-icon.png
rsvg-convert -w 192 -h 192 dp_white.svg -o icon-192.png
rsvg-convert -w 512 -h 512 dp_white.svg -o icon-512.png
```
  </how-to-create>
  <verify-before-continuing>
Run these commands to verify all files exist:
```bash
ls -la public/favicon.ico public/apple-touch-icon.png public/icon-192.png public/icon-512.png
file public/favicon.ico public/apple-touch-icon.png public/icon-192.png public/icon-512.png
```
  </verify-before-continuing>
  <resume-signal>Type "favicons created" when all 4 PNG/ICO files are in public/, or describe any issues</resume-signal>
</task>

<task type="auto">
  <name>Task 4: Update index.html favicon references</name>
  <files>index.html</files>
  <action>
Update index.html to reference the new favicon set:

1. Replace current favicon link:
   ```html
   <link rel="icon" type="image/svg+xml" href="/dp_white.svg" />
   ```

   With complete favicon set:
   ```html
   <link rel="icon" href="/favicon.ico" sizes="32x32" />
   <link rel="icon" href="/icon.svg" type="image/svg+xml" />
   <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
   <link rel="manifest" href="/manifest.webmanifest" />
   ```

2. Keep the existing theme-color meta tag: `<meta name="theme-color" content="#000" />`

3. Remove preconnect to raw.githubusercontent.com and update preload:
   - Remove: `<link rel="preconnect" href="https://raw.githubusercontent.com" crossorigin>`
   - Update preload to reference local logo (to be added in Plan 04)
  </action>
  <verify>
    - `grep "icon.svg" index.html` shows SVG favicon reference
    - `grep "apple-touch-icon" index.html` shows iOS icon reference
    - `grep "manifest.webmanifest" index.html` shows manifest reference
    - `npm run build` succeeds
  </verify>
  <done>
    - index.html references all favicon types
    - manifest.webmanifest linked
    - Legacy ICO fallback present
  </done>
</task>

</tasks>

<verification>
1. All favicon references in index.html: `grep -E "(favicon|icon\\.svg|apple-touch-icon|manifest)" index.html`
2. manifest.webmanifest is valid JSON: `node -e "console.log(JSON.parse(require('fs').readFileSync('public/manifest.webmanifest')))"`
3. Build succeeds: `npm run build`
</verification>

<success_criteria>
- SEO-08: Complete favicon set (all sizes, apple-touch-icon) - DONE (manifest + SVG created, PNG generation instructions provided)
- Browser displays SVG favicon with theme adaptation
- Web manifest configured for PWA "Add to Home Screen"
</success_criteria>

<output>
After completion, create `.planning/phases/07-seo-foundation/07-02-SUMMARY.md`
</output>
