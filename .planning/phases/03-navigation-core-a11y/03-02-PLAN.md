---
phase: 03-navigation-core-a11y
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/SkipLink/SkipLink.tsx
  - src/components/SkipLink/SkipLink.module.css
  - src/App.css
autonomous: true

must_haves:
  truths:
    - "Skip link is visually hidden until focused"
    - "Skip link becomes visible when focused via keyboard"
    - "All focusable elements have visible focus indicators"
  artifacts:
    - path: "src/components/SkipLink/SkipLink.tsx"
      provides: "Accessible skip-to-content link component"
      exports: ["SkipLink"]
    - path: "src/components/SkipLink/SkipLink.module.css"
      provides: "Skip link styling with focus visibility"
      contains: ":focus"
    - path: "src/App.css"
      provides: "Global focus indicator styles"
      contains: "focus-visible"
  key_links:
    - from: "src/components/SkipLink/SkipLink.tsx"
      to: "#main-content"
      via: "href and programmatic focus"
      pattern: "main-content"
---

<objective>
Create skip-to-content link and global focus indicator styles for keyboard accessibility.

Purpose: Skip link is first focusable element (WCAG 2.4.1), focus indicators ensure keyboard users see where they are (WCAG 2.4.7).
Output: SkipLink component with CSS, global focus-visible styles in App.css.
</objective>

<execution_context>
@/Users/romatroskin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/romatroskin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-navigation-core-a11y/03-RESEARCH.md

Reference patterns:
- Pattern 6: Skip Link from RESEARCH.md
- Code Examples: Skip Link Component and Focus Indicator sections
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SkipLink component</name>
  <files>src/components/SkipLink/SkipLink.tsx, src/components/SkipLink/SkipLink.module.css</files>
  <action>
Create `src/components/SkipLink/` directory.

Create `src/components/SkipLink/SkipLink.tsx`:
```tsx
import styles from './SkipLink.module.css';

interface SkipLinkProps {
  href: string;
  children?: React.ReactNode;
}

export function SkipLink({ href, children = 'Skip to main content' }: SkipLinkProps) {
  const handleClick = (e: React.MouseEvent<HTMLAnchorElement>) => {
    e.preventDefault();
    const target = document.querySelector(href);
    if (target) {
      // Make target focusable temporarily
      target.setAttribute('tabindex', '-1');
      (target as HTMLElement).focus();
      // Remove tabindex after focus to avoid polluting tab order
      target.removeAttribute('tabindex');
    }
  };

  return (
    <a href={href} onClick={handleClick} className={styles.skipLink}>
      {children}
    </a>
  );
}
```

Create `src/components/SkipLink/SkipLink.module.css`:
```css
.skipLink {
  position: absolute;
  top: -100px;
  left: 16px;
  background: #000;
  color: #fff;
  padding: 12px 24px;
  text-decoration: none;
  z-index: 10000;
  font-size: 14px;
  line-height: 1.5;
  border-radius: 4px;
  transition: top 0.2s ease-in-out;
}

.skipLink:focus {
  top: 16px;
}

/* WCAG compliant focus indicator */
.skipLink:focus-visible {
  outline: 2px solid #fff;
  outline-offset: 2px;
}
```

Key points:
- Positioned off-screen by default (top: -100px)
- Moves on-screen when focused (top: 16px)
- High z-index to appear above all content
- Good contrast (black background, white text)
- Transition for smooth appearance
  </action>
  <verify>
- File exists: `ls src/components/SkipLink/`
- TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>SkipLink component created with accessible styling</done>
</task>

<task type="auto">
  <name>Task 2: Add global focus-visible styles</name>
  <files>src/App.css</files>
  <action>
Add focus indicator styles to the END of `src/App.css`:

```css
/* ========================================
   Focus Indicators - WCAG 2.4.7 Compliance
   ======================================== */

/*
 * Custom focus indicators for keyboard navigation
 * Uses :focus-visible to only show on keyboard focus, not mouse clicks
 * Meets WCAG 2.1 SC 1.4.11 (3:1 contrast ratio requirement)
 */

/* Interactive elements - buttons, links */
button:focus-visible,
a:focus-visible {
  outline: 2px solid #535bf2;
  outline-offset: 2px;
}

/* Ensure high contrast against dark backgrounds */
.hero-container button:focus-visible,
.intro-container button:focus-visible,
.about-container button:focus-visible {
  outline-color: #7c83ff;
}

/* Header navigation links - ensure visibility against header */
nav a:focus-visible {
  outline: 2px solid #fff;
  outline-offset: 2px;
  border-radius: 4px;
}

/* Remove default outline only when we provide custom focus */
button:focus:not(:focus-visible),
a:focus:not(:focus-visible) {
  outline: none;
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *:focus-visible {
    transition: none;
  }
}
```

IMPORTANT: Do NOT use `*:focus { outline: none; }` - this violates WCAG. We only remove outline when `:focus-visible` is available (mouse clicks).
  </action>
  <verify>
- `npm run build` succeeds
- In browser: Tab through elements, focus rings appear
- In browser: Click buttons/links with mouse, no focus ring (unless :focus-visible not supported)
  </verify>
  <done>Focus indicators visible for keyboard navigation, hidden for mouse clicks</done>
</task>

</tasks>

<verification>
After completing all tasks:
1. `npm run build` succeeds
2. `npx tsc --noEmit` passes (TypeScript check)
3. SkipLink component files exist in src/components/SkipLink/
4. App.css contains focus-visible styles
5. Ready for integration in Plan 03-04
</verification>

<success_criteria>
- SkipLink component exists with proper ARIA and styling
- Global focus-visible styles added to App.css
- Focus indicators have sufficient contrast (2px solid outline)
- No WCAG violations (no blanket outline:none)
- Build passes
</success_criteria>

<output>
After completion, create `.planning/phases/03-navigation-core-a11y/03-02-SUMMARY.md`
</output>
