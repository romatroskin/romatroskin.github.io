---
phase: 04-css-visual-design
plan: 03
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - src/styles/utilities.css
  - src/styles/print.css
  - src/index.css
  - src/App.css
  - src/components/Header/Header.module.css
  - src/components/Header/MobileMenu.module.css
autonomous: true

must_haves:
  truths:
    - "Interactive elements have visible hover and focus state feedback"
    - "Transitions use GPU-accelerated properties (transform, opacity)"
    - "Users with prefers-reduced-motion see no animations"
    - "Print stylesheet hides navigation and interactive elements"
    - "Print output shows readable black text on white background"
  artifacts:
    - path: "src/styles/utilities.css"
      provides: "Utility classes and micro-interaction styles"
      contains: "prefers-reduced-motion"
    - path: "src/styles/print.css"
      provides: "Print-specific styles"
      contains: "@media print"
    - path: "src/App.css"
      provides: "Enhanced hover/focus states for main content"
      contains: ":hover"
  key_links:
    - from: "src/styles/utilities.css"
      to: "src/styles/tokens.css"
      via: "uses transition tokens"
      pattern: "var\\(--transition-"
    - from: "src/index.css"
      to: "src/styles/utilities.css"
      via: "import statement"
      pattern: "@import.*utilities"
    - from: "src/index.css"
      to: "src/styles/print.css"
      via: "import statement"
      pattern: "@import.*print"
---

<objective>
Add visual polish through micro-interactions, smooth transitions, and a complete print stylesheet. Ensure all animations respect prefers-reduced-motion preference.

Purpose: Elevate the user experience with subtle feedback on interactions while maintaining accessibility and providing a clean print output.

Output: Utility styles, micro-interactions, enhanced hover/focus states, and print stylesheet.
</objective>

<execution_context>
@/Users/romatroskin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/romatroskin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-css-visual-design/04-RESEARCH.md
@.planning/phases/04-css-visual-design/04-01-SUMMARY.md
@src/styles/tokens.css
@src/App.css
@src/css/main.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create utilities and micro-interaction styles</name>
  <files>
    src/styles/utilities.css
  </files>
  <action>
**Create src/styles/utilities.css** with:

Screen reader only utility (consolidate from main.css):
```css
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
```

Animation utilities:
```css
/* Reduced motion support - CRITICAL for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
```

Micro-interaction base classes:
```css
/* GPU-accelerated hover lift effect */
.hover-lift {
  transition: transform var(--transition-fast),
              box-shadow var(--transition-fast);
  will-change: transform;
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.hover-lift:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Subtle scale effect for cards/containers */
.hover-scale {
  transition: transform var(--transition-base);
}

.hover-scale:hover {
  transform: scale(1.02);
}

/* Link underline animation */
.link-animated {
  position: relative;
  text-decoration: none;
}

.link-animated::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 100%;
  height: 2px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: right;
  transition: transform var(--transition-base);
}

.link-animated:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}
```

Focus state utilities:
```css
/* Enhanced focus indicator */
.focus-ring:focus-visible {
  outline: 2px solid var(--color-focus);
  outline-offset: 2px;
}

/* Remove outline when not keyboard focused */
.focus-ring:focus:not(:focus-visible) {
  outline: none;
}
```

Visibility utilities:
```css
.hidden {
  display: none !important;
}

.invisible {
  visibility: hidden;
}

/* Hide on print only */
.no-print {
  /* Applied via print.css media query */
}
```
  </action>
  <verify>
    File exists: src/styles/utilities.css
    Contains @media (prefers-reduced-motion: reduce)
    Uses GPU-accelerated properties (transform, opacity, box-shadow)
    npm run build succeeds
  </verify>
  <done>
    Utilities file provides reusable interaction classes
    Reduced motion preference fully supported
    All transitions use GPU-accelerated properties
  </done>
</task>

<task type="auto">
  <name>Task 2: Create print stylesheet</name>
  <files>
    src/styles/print.css
  </files>
  <action>
**Create src/styles/print.css**:

```css
/* Print stylesheet for portfolio */
@media print {
  /* Reset colors for print */
  *,
  *::before,
  *::after {
    background: #fff !important;
    color: #000 !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  /* Page setup */
  @page {
    margin: 2cm;
    size: A4 portrait;
  }

  /* Hide non-essential elements */
  nav,
  header,
  .skip-link,
  .theme-toggle,
  .scroll-indicator,
  .cta-buttons,
  button:not([type="submit"]),
  .no-print {
    display: none !important;
  }

  /* Show link URLs after links */
  a[href]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666 !important;
  }

  /* Don't show URLs for internal/anchor links */
  a[href^="#"]::after,
  a[href^="javascript:"]::after {
    content: "";
  }

  /* Typography for print */
  body {
    font-size: 12pt;
    line-height: 1.5;
  }

  h1 {
    font-size: 24pt;
    page-break-after: avoid;
  }

  h2, h3 {
    font-size: 18pt;
    page-break-after: avoid;
    page-break-inside: avoid;
  }

  /* Prevent awkward page breaks */
  p,
  blockquote,
  img,
  section {
    page-break-inside: avoid;
  }

  /* Control orphans/widows */
  p {
    orphans: 3;
    widows: 3;
  }

  /* Images */
  img {
    max-width: 100%;
    page-break-inside: avoid;
  }

  /* Make main content full width */
  main,
  section,
  .hero-container,
  .intro-container,
  .about-container {
    display: block;
    width: 100%;
    padding: 1cm 0;
    position: relative !important;
    transform: none !important;
  }

  /* Add page breaks between major sections */
  section {
    page-break-before: auto;
  }

  /* Ensure logo prints nicely */
  .logo {
    filter: invert(1) !important;
    max-width: 150px !important;
  }
}
```
  </action>
  <verify>
    File exists: src/styles/print.css
    Uses @media print query
    Hides navigation and interactive elements
    Resets colors to black on white
    Print preview (Ctrl/Cmd + P) shows clean output
  </verify>
  <done>
    Print stylesheet hides interactive elements
    Text prints as black on white
    Page breaks controlled appropriately
    External link URLs shown in print
  </done>
</task>

<task type="auto">
  <name>Task 3: Enhance existing components with micro-interactions</name>
  <files>
    src/index.css
    src/App.css
    src/components/Header/Header.module.css
    src/components/Header/MobileMenu.module.css
  </files>
  <action>
**src/index.css** - Add imports:
```css
@import './styles/utilities.css';
@import './styles/print.css';
```

Also consolidate - the print styles in src/css/main.css can be removed since we now have a dedicated print.css.

**src/App.css** - Enhance interactive elements:

Update .logo:
```css
.logo {
  /* existing styles */
  transition: filter var(--transition-base), transform var(--transition-fast);
}

.logo:hover {
  filter: drop-shadow(0 0 2em rgba(167, 139, 250, 0.6));
  transform: scale(1.02);
}
```

Update .scroll-indicator:
```css
.scroll-indicator {
  /* existing styles */
  transition: border-color var(--transition-fast),
              color var(--transition-fast),
              transform var(--transition-fast);
}

.scroll-indicator:hover {
  border-color: rgba(255, 255, 255, 0.4);
  color: rgba(255, 255, 255, 1);
  transform: translateY(4px);
}
```

Update .cta-primary:
```css
.cta-primary {
  /* existing styles */
  transition: transform var(--transition-fast),
              box-shadow var(--transition-fast);
}

.cta-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(167, 139, 250, 0.3);
}

.cta-primary:active {
  transform: translateY(0);
}
```

Enhance focus states to use theme variables:
```css
button:focus-visible,
a:focus-visible {
  outline: 2px solid var(--color-focus);
  outline-offset: 2px;
}
```

**src/components/Header/Header.module.css**:
```css
.navLink {
  /* existing styles */
  transition: color var(--transition-fast);
}

.navLink:hover {
  color: var(--color-accent);
}
```

**src/components/Header/MobileMenu.module.css**:
- Verify existing animations respect reduced-motion (already has @media query)
- Ensure transitions use var(--transition-*) tokens where feasible
- Update colors to use CSS variables

Remove redundant print styles from src/css/main.css (keep only the utilities that aren't duplicated).
  </action>
  <verify>
    npm run dev - Hover over elements, see smooth transitions
    Enable "Reduce motion" in OS accessibility settings - animations should stop
    Print preview - Navigation hidden, text readable
    All transitions use CSS variables from tokens.css
    npm run build succeeds
  </verify>
  <done>
    All interactive elements have hover/focus feedback
    Transitions use GPU-accelerated properties
    Reduced motion preference fully respected
    Print output is clean and readable
    CSS uses consistent token variables
  </done>
</task>

</tasks>

<verification>
1. Hover states: Hover over buttons, links, logo - see smooth feedback
2. Focus states: Tab through page - see clear focus indicators
3. Reduced motion: Enable OS reduced motion setting - animations disabled
4. Print preview: Ctrl/Cmd + P - clean output, no navigation, readable text
5. Performance: DevTools Performance tab - no layout thrashing on hover
6. Build: npm run build succeeds
</verification>

<success_criteria>
- Micro-interactions on all interactive elements
- GPU-accelerated transitions (transform, opacity, box-shadow only)
- Full prefers-reduced-motion support
- Complete print stylesheet that produces clean output
- All transitions use token variables
</success_criteria>

<output>
After completion, create `.planning/phases/04-css-visual-design/04-03-SUMMARY.md`
</output>
